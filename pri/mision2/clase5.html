<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScript</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="../../css/estilos.css">
</head>
    <body>
        <div class="container">
    <div class="slide" data-title="Título">
  <h1>Misión 3 · Lección 5</h1>
  <h2>Conexión a Bases de Datos con Flask</h2>
  <h3>Objetivos</h3>
  <ul>
    <li>Configurar Flask para conectarse a una base de datos.</li>
    <li>Ejecutar consultas SQL desde Flask.</li>
    <li>Integrar datos dinámicos en las vistas.</li>
  </ul>
</div>

<div class="slide" data-title="Opciones de conexión">
  <h2>Opciones de Conexión</h2>
  <ul>
    <li>SQLite (ligera, ideal para pruebas).</li>
    <li>MySQL/MariaDB (popular en aplicaciones web).</li>
    <li>PostgreSQL (robusta y avanzada).</li>
  </ul>
</div>

<div class="slide" data-title="Conexión SQLite">
  <h2>Conexión con SQLite</h2>
<pre><code>import sqlite3

def get_db():
    conn = sqlite3.connect("database.db")
    conn.row_factory = sqlite3.Row
    return conn</code></pre>
</div>

<div class="slide" data-title="Uso en rutas">
  <h2>Uso de la conexión en rutas</h2>
<pre><code>@app.route("/users")
def users():
    conn = get_db()
    cursor = conn.execute("SELECT * FROM usuarios")
    data = cursor.fetchall()
    return render_template("users.html", usuarios=data)</code></pre>
</div>

<div class="slide" data-title="Ejemplo template">
  <h2>Mostrar datos en template</h2>
<pre><code>&lt;ul&gt;
{% for u in usuarios %}
  &lt;li&gt;{{ u["nombre"] }} - {{ u["email"] }}&lt;/li&gt;
{% endfor %}
&lt;/ul&gt;</code></pre>
</div>

<div class="slide" data-title="MySQL ejemplo">
  <h2>Conexión a MySQL</h2>
<pre><code>pip install pymysql

import pymysql

conn = pymysql.connect(
    host="localhost",
    user="root",
    password="clave",
    database="tienda"
)</code></pre>
</div>

<div class="slide" data-title="PostgreSQL ejemplo">
  <h2>Conexión a PostgreSQL</h2>
<pre><code>pip install psycopg2

import psycopg2

conn = psycopg2.connect(
    host="localhost",
    user="postgres",
    password="clave",
    dbname="tienda"
)</code></pre>
</div>

<div class="slide" data-title="Buenas prácticas">
  <h2>Buenas Prácticas</h2>
  <ul>
    <li>Usar variables de entorno para credenciales.</li>
    <li>Cerrar conexiones después de usarlas.</li>
    <li>Centralizar la lógica de acceso a datos.</li>
  </ul>
</div>

<div class="slide" data-title="Extensiones">
  <h2>Extensiones recomendadas</h2>
  <ul>
    <li><b>Flask-SQLAlchemy:</b> ORM para trabajar con objetos en lugar de SQL directo.</li>
    <li><b>Flask-Migrate:</b> manejo de migraciones.</li>
  </ul>
</div>

<div class="slide" data-title="Ejercicio">
  <h2>Ejercicio Guiado</h2>
  <ol>
    <li>Crea una base de datos SQLite llamada <code>database.db</code> con una tabla <code>usuarios</code>.</li>
    <li>Inserta algunos registros de prueba.</li>
    <li>Conéctala a tu app Flask y muestra los usuarios en una vista.</li>
  </ol>
</div>


        <div class="nav">
            <button onclick="prevSlide()">Anterior</button>
            <button onclick="nextSlide()">Siguiente</button>
        </div>
    </div>
    <script src="../../js/slide.js"></script>
    </body>
</html>