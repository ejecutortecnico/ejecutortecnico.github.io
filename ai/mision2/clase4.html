<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScript</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="../../css/estilos.css">
</head>
    <body>
        <div class="container">
            <div class="slide">
                <h2>Importación de librerías</h2>
                <pre><code>import requests</code></pre>
                <p>Se importa el módulo <code>requests</code>, que permite hacer solicitudes HTTP fácilmente.</p>
              </div>
              
              <div class="slide">
                <h2>Definición de la función obtener_clima</h2>
                <pre><code>def obtener_clima(ciudad, api_key):</code></pre>
                <p>Se define una función que recibe dos parámetros: el nombre de la ciudad y la clave de API para autenticarse.</p>
              </div>
              
              <div class="slide">
                <h2>Construcción de la URL</h2>
                <pre><code>
url = f"http://api.openweathermap.org/data/2.5/weather?q={ciudad}&appid={api_key}&units=metric&lang=es"
                </code></pre>
                <p>Se construye la URL con formato <code>f-string</code> para incluir la ciudad, la API Key, unidades métricas y lenguaje en español.</p>
              </div>
              
              <div class="slide">
                <h2>Solicitud HTTP</h2>
<pre><code>respuesta = requests.get(url)</code></pre>
                <p>Se hace la solicitud HTTP GET a la API de OpenWeatherMap.</p>
              </div>
              
              <div class="slide">
                <h2>Verificación de respuesta exitosa</h2>
<pre><code>if respuesta.status_code == 200:</code></pre>
                <p>Se comprueba si la respuesta fue exitosa (código 200).</p>
              </div>
              
              <div class="slide">
                <h2>Procesamiento de los datos</h2>
                <pre><code>
datos = respuesta.json()
clima = {
    "ciudad": datos["name"],
    "temperatura": datos["main"]["temp"],
    "descripcion": datos["weather"][0]["description"],
    "humedad": datos["main"]["humidity"],
    "viento": datos["wind"]["speed"]
}
return clima
                </code></pre>
                <p>Se convierte la respuesta a JSON y se extraen los datos principales del clima en un diccionario.</p>
              </div>
              
              <div class="slide">
                <h2>Manejo de error en la solicitud</h2>
                <pre><code>
else:
    return {"error": "No se pudo obtener el clima."}
                </code></pre>
                <p>Si el código de estado no es 200, se retorna un mensaje de error.</p>
              </div>
              
              <div class="slide">
                <h2>Bloque principal del script</h2>
                <pre><code>
if __name__ == "__main__":
    ciudad = input("Ingrese el nombre de la ciudad: ")
    api_key = "TU_API_KEY_AQUI"
    clima = obtener_clima(ciudad, api_key)
                </code></pre>
                <p>Se ejecuta este bloque solo si el archivo se ejecuta directamente. Se pide al usuario la ciudad y se llama a la función.</p>
              </div>
              
              <div class="slide">
                <h2>Verificación de error y salida</h2>
                <pre><code>
if "error" in clima:
    print(clima["error"])
else:
    print(f"Clima en {clima['ciudad']}:")
    print(f"Temperatura: {clima['temperatura']}°C")
    print(f"Descripción: {clima['descripcion']}")
    print(f"Humedad: {clima['humedad']}%")
    print(f"Viento: {clima['viento']} m/s")
                </code></pre>
                <p>Se verifica si hubo error. Si no, se imprime la información detallada del clima.</p>
              </div>
              
        <div class="nav">
            <button onclick="prevSlide()">Anterior</button>
            <button onclick="nextSlide()">Siguiente</button>
        </div>
    </div>
    <script src="../../js/slide.js"></script>
    </body>
</html>
