<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Programacion Intermedio</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="../../css/estilos.css">
</head>
    <body>
        <div class="container">
    <div class="slide">
  <h2>¿Qué es un CRUD?</h2>
  <p>CRUD significa <b>Create, Read, Update, Delete</b>. Es el conjunto de operaciones básicas que se realizan sobre una base de datos.</p>
  <ul>
    <li><b>Create:</b> Insertar nuevos registros.</li>
    <li><b>Read:</b> Consultar datos existentes.</li>
    <li><b>Update:</b> Modificar registros.</li>
    <li><b>Delete:</b> Eliminar registros.</li>
  </ul>
</div>

<div class="slide">
  <h2>Tabla de ejemplo: customers</h2>
  <p>Usaremos la tabla <b>customers</b> con los siguientes campos principales:</p>
  <ul>
    <li>customerNumber (PK, int)</li>
    <li>customerName (varchar 50)</li>
    <li>contactLastName (varchar 50)</li>
    <li>contactFirstName (varchar 50)</li>
    <li>phone (varchar 50)</li>
    <li>addressLine1, addressLine2</li>
    <li>city, state, postalCode, country</li>
    <li>salesRepEmployeeNumber (int)</li>
    <li>creditLimit (decimal)</li>
  </ul>
</div>

<div class="slide">
  <h2>Conexión a MySQL con mysql.connector</h2>
  <pre><code class="language-python">
import mysql.connector

def get_connection():
    return mysql.connector.connect(
        host="localhost",
        user="root",
        password="tu_password",
        database="mi_base"
    )
  </code></pre>
  <p>Esta función devuelve una conexión lista para usar en las operaciones CRUD.</p>
</div>

<div class="slide">
  <h2>CREATE - Insertar un cliente</h2>
  <pre><code class="language-python">
def crear_customer(customerName, contactLastName, contactFirstName, phone, addressLine1, city, country):
    conn = get_connection()
    cursor = conn.cursor()
    sql = """INSERT INTO customers 
             (customerName, contactLastName, contactFirstName, phone, addressLine1, city, country) 
             VALUES (%s, %s, %s, %s, %s, %s, %s)"""
    values = (customerName, contactLastName, contactFirstName, phone, addressLine1, city, country)
    cursor.execute(sql, values)
    conn.commit()
    last_id = cursor.lastrowid
    cursor.close()
    conn.close()
  </code></pre>
</div>

<div class="slide">
  <h2>READ - Consultar clientes</h2>
  <pre><code class="language-python">
def obtener_customers():
    conn = get_connection()
    cursor = conn.cursor(dictionary=True)
    cursor.execute("SELECT customerNumber, customerName, phone, country FROM customers")
    rows = cursor.fetchall()
    cursor.close()
    conn.close()
    return rows
  </code></pre>
  <p>Devuelve una lista de diccionarios con los datos de los clientes.</p>
</div>

<div class="slide">
  <h2>UPDATE - Modificar un cliente</h2>
  <pre><code class="language-python">
def actualizar_customer(customerNumber, phone, city):
    conn = get_connection()
    cursor = conn.cursor()
    sql = "UPDATE customers SET phone=%s, city=%s WHERE customerNumber=%s"
    values = (phone, city, customerNumber)
    cursor.execute(sql, values)
    conn.commit()
    cursor.close()
    conn.close()
  </code></pre>
</div>

<div class="slide">
  <h2>DELETE - Eliminar un cliente</h2>
  <pre><code class="language-python">
def eliminar_customer(customerNumber):
    conn = get_connection()
    cursor = conn.cursor()
    cursor.execute("DELETE FROM customers WHERE customerNumber = %s", (customerNumber,))
    conn.commit()
    cursor.close()
    conn.close()
  </code></pre>
</div>

<div class="slide">
  <h2>Resumen del CRUD</h2>
  <ul>
    <li><b>CREATE:</b> Agregar un nuevo cliente.</li>
    <li><b>READ:</b> Listar o consultar clientes.</li>
    <li><b>UPDATE:</b> Modificar datos de un cliente existente.</li>
    <li><b>DELETE:</b> Eliminar un cliente de la tabla.</li>
  </ul>
  <p>Este patrón CRUD es la base de la mayoría de aplicaciones web y APIs que trabajan con bases de datos.</p>
</div>


        <div class="nav">
            <button onclick="prevSlide()">Anterior</button>
            <button onclick="nextSlide()">Siguiente</button>
        </div>
    </div>
    <script src="../../js/slide.js"></script>
    </body>
</html>
