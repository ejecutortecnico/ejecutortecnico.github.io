<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScript</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="../../css/estilos.css">
</head>
    <body>
        <div class="container">

          <div class="slide" data-title="T√≠tulo">
  <h1>Misi√≥n 2 ¬∑ Lecci√≥n 1</h1>
  <h2>Creaci√≥n y Manipulaci√≥n de Bases de Datos Relacionales</h2>
  <h3>Objetivos</h3>
  <ul>
    <li>Comprender qu√© es una base de datos relacional.</li>
    <li>Diferenciar tablas, claves y relaciones.</li>
    <li>Conocer qu√© es un DBMS y sus caracter√≠sticas principales.</li>
    <li>Crear y manipular bases de datos y tablas con SQL.</li>
  </ul>
</div>

<div class="slide" data-title="¬øQu√© es una BDR?">
  <h2>Introducci√≥n a las Bases de Datos Relacionales</h2>
  <p>
    Una <strong>Base de Datos Relacional (BDR)</strong> organiza la informaci√≥n en <strong>tablas</strong> formadas por filas y columnas.
    Cada fila es un registro √∫nico y cada columna representa un atributo.
  </p>
  <ul>
    <li><strong>Tabla</strong>: colecci√≥n de datos sobre una entidad (ej: <code>Usuarios</code>).</li>
    <li><strong>Relaci√≥n</strong>: v√≠nculo entre tablas (ej: <code>Usuarios</code> y <code>Pedidos</code>).</li>
    <li><strong>Clave Primaria (PK)</strong>: identificador √∫nico por fila.</li>
    <li><strong>Clave For√°nea (FK)</strong>: referencia a la PK de otra tabla.</li>
    <li><strong>Consulta (Query)</strong>: petici√≥n de datos en SQL.</li>
  </ul>
  <pre><code>-- Ejemplo de consulta
SELECT Nombre FROM Usuarios WHERE ID = 1;</code></pre>
</div>

<div class="slide" data-title="Importancia">
  <h2>Importancia de las BDR</h2>
  <ul>
    <li><strong>Organizaci√≥n:</strong> estructuran grandes vol√∫menes de datos.</li>
    <li><strong>Integridad:</strong> aseguran consistencia mediante reglas (PK, FK).</li>
    <li><strong>Escalabilidad:</strong> soportan desde apps peque√±as hasta grandes sistemas.</li>
  </ul>
</div>

<div class="slide" data-title="DBMS">
  <h2>Sistema de Gesti√≥n de Bases de Datos (DBMS)</h2>
  <p>
    Un <strong>DBMS</strong> es el software que administra bases de datos, 
    permitiendo crear, modificar y consultar datos de forma eficiente y segura.
  </p>
  <ul>
    <li><strong>Interfaz de usuario:</strong> herramientas como MySQL Workbench, pgAdmin.</li>
    <li><strong>Control de acceso:</strong> define permisos para usuarios y roles.</li>
    <li><strong>Transacciones:</strong> garantizan operaciones at√≥micas (todo o nada).</li>
    <li><strong>Integridad de datos:</strong> evita duplicados y datos inv√°lidos.</li>
    <li><strong>Consultas SQL:</strong> manipulaci√≥n con <code>SELECT, INSERT, UPDATE, DELETE</code>.</li>
  </ul>
</div>

<div class="slide" data-title="Crear BD">
  <h2>Creaci√≥n de una Base de Datos</h2>
  <pre><code>-- Crear una base de datos
CREATE DATABASE MiBaseDeDatos;

-- Usar la base de datos
USE MiBaseDeDatos;

-- Crear con configuraci√≥n (charset/collation)
CREATE DATABASE MiBaseDeDatos
CHARACTER SET utf8mb4
COLLATE utf8mb4_unicode_ci;

-- Verificar bases de datos existentes
SHOW DATABASES;</code></pre>
</div>

<div class="slide" data-title="Crear Tablas">
  <h2>Creaci√≥n de Tablas</h2>
  <p>Las tablas almacenan los datos en filas y columnas, definidas por su estructura.</p>
  <pre><code>CREATE TABLE Usuarios (
  ID INT PRIMARY KEY AUTO_INCREMENT,
  Nombre VARCHAR(100),
  Correo_Electronico VARCHAR(100) UNIQUE,
  Fecha_Registro DATE
);</code></pre>
  <ul>
    <li><strong>INT</strong>: enteros.</li>
    <li><strong>VARCHAR(n)</strong>: texto con longitud definida.</li>
    <li><strong>DATE</strong>: fechas.</li>
    <li><strong>BOOLEAN</strong>: valores verdadero/falso.</li>
  </ul>
</div>

<div class="slide" data-title="Relaciones">
  <h2>Relaciones entre Tablas</h2>
  <pre><code>CREATE TABLE Pedidos (
  ID INT PRIMARY KEY AUTO_INCREMENT,
  ID_Usuario INT,
  Producto VARCHAR(100),
  Fecha_Pedido DATE,
  FOREIGN KEY (ID_Usuario) REFERENCES Usuarios(ID)
);</code></pre>
  <p>
    <strong>FK:</strong> asegura que cada pedido siempre est√© vinculado a un usuario existente.
  </p>
</div>

<div class="slide" data-title="Verificaci√≥n">
  <h2>Verificaci√≥n de Estructuras</h2>
  <pre><code>-- Revisar estructura de una tabla
DESCRIBE Usuarios;

-- Verificar todas las tablas de la BD
SHOW TABLES;</code></pre>
  <p>
    Estos comandos permiten validar que las tablas y relaciones se crearon correctamente.
  </p>
</div>

<div class="slide" data-title="Ejercicio Guiado">
  <h2>Ejercicio Guiado üõ†Ô∏è</h2>
  <ol>
    <li>Crea una base de datos llamada <code>Tienda</code>.</li>
    <li>Dentro de ella, crea la tabla <code>Clientes</code> con: ID, Nombre, Email, FechaRegistro.</li>
    <li>Crea la tabla <code>Pedidos</code> con: ID, ClienteID, Producto, FechaPedido.</li>
    <li>Establece <code>ClienteID</code> como clave for√°nea hacia <code>Clientes(ID)</code>.</li>
    <li>Verifica las tablas con <code>DESCRIBE</code> y <code>SHOW TABLES</code>.</li>
  </ol>
</div>







     <div class="slide" data-title="T√≠tulo">
    <h1>Misi√≥n 2 ¬∑ Lecci√≥n 1</h1>
    <h2>Introducci√≥n a Bases de Datos Relacionales</h2>
    <h3>Objetivos de la lecci√≥n</h3>
    <ul>
      <li>Comprender qu√© es una base de datos relacional y por qu√© usarla.</li>
      <li>Conocer tablas, filas, columnas, claves primarias y for√°neas.</li>
      <li>Ejecutar consultas SQL b√°sicas: <code>CREATE</code>, <code>INSERT</code>, <code>SELECT</code>, <code>JOIN</code>.</li>
    </ul>
    <div class="kpi">
      <div class="card"><strong>Duraci√≥n:</strong><br/>90 min</div>
      <div class="card"><strong>Requisitos:</strong><br/>Conocimientos b√°sicos de programaci√≥n</div>
      <div class="card"><strong>Entorno:</strong><br/>PostgreSQL / MySQL / SQLite</div>
    </div>
  </div>

  <div class="slide" data-title="¬øQu√© es una BD?">
    <h2>¬øQu√© es una Base de Datos Relacional?</h2>
    <ul>
      <li>Un sistema para almacenar datos en <strong>tablas</strong> relacionadas entre s√≠.</li>
      <li>Se basa en el <em>modelo relacional</em> (filas = tuplas, columnas = atributos).</li>
      <li>Usa SQL como lenguaje de definici√≥n y consulta de datos.</li>
      <li>Ventajas: consistencia, integridad, consultas potentes, transacciones ACID.</li>
    </ul>
    <p class="badge">Ejemplos: PostgreSQL, MySQL, MariaDB, SQLite, SQL Server, Oracle</p>
  </div>

  <div class="slide" data-title="Estructura">
    <h2>Tablas, Filas, Columnas y Tipos</h2>
    <div class="grid-2">
      <div>
        <ul>
          <li><strong>Tabla</strong>: colecci√≥n de registros del mismo tipo (p. ej., <code>clientes</code>).</li>
          <li><strong>Fila</strong>: un registro (p. ej., un cliente).</li>
          <li><strong>Columna</strong>: un atributo (p. ej., <code>email</code>).</li>
          <li><strong>Tipos</strong>: <code>INT</code>, <code>VARCHAR</code>, <code>DATE</code>, <code>BOOLEAN</code>, etc.</li>
        </ul>
      </div>
      <div>
<pre><code>-- Ejemplo de tabla
CREATE TABLE clientes (
  id SERIAL PRIMARY KEY,
  nombre VARCHAR(80) NOT NULL,
  email VARCHAR(120) UNIQUE,
  creado_en TIMESTAMP DEFAULT NOW()
);</code></pre>
      </div>
    </div>
  </div>

  <div class="slide" data-title="Claves">
    <h2>Claves Primarias y For√°neas</h2>
    <ul>
      <li><strong>PRIMARY KEY</strong>: identifica de forma √∫nica una fila.</li>
      <li><strong>FOREIGN KEY</strong>: referencia a otra tabla para mantener integridad referencial.</li>
    </ul>
<pre><code>CREATE TABLE pedidos (
  id SERIAL PRIMARY KEY,
  cliente_id INT NOT NULL,
  total NUMERIC(10,2) NOT NULL,
  creado_en TIMESTAMP DEFAULT NOW(),
  CONSTRAINT fk_cliente FOREIGN KEY (cliente_id)
    REFERENCES clientes(id)
    ON DELETE CASCADE
);</code></pre>
  </div>

  <div class="slide" data-title="Modelo ER">
    <h2>Modelo Entidad-Relaci√≥n (ER)</h2>
    <ul>
      <li>Representa entidades (tablas) y relaciones (<code>1:1</code>, <code>1:N</code>, <code>N:M</code>).</li>
      <li>Las relaciones <code>N:M</code> se modelan con una tabla intermedia.</li>
    </ul>
<pre><code>-- Tabla intermedia para relaci√≥n N:M
CREATE TABLE producto_pedido (
  pedido_id INT REFERENCES pedidos(id),
  producto_id INT REFERENCES productos(id),
  cantidad INT NOT NULL DEFAULT 1,
  PRIMARY KEY (pedido_id, producto_id)
);</code></pre>
  </div>

  <div class="slide" data-title="Normalizaci√≥n">
    <h2>Normalizaci√≥n (1FN, 2FN, 3FN)</h2>
    <ul>
      <li><strong>1FN</strong>: sin grupos repetidos; cada celda es at√≥mica.</li>
      <li><strong>2FN</strong>: 1FN + sin dependencias parciales de clave compuesta.</li>
      <li><strong>3FN</strong>: 2FN + sin dependencias transitivas.</li>
    </ul>
<pre><code>-- Anti-ejemplo: direcci√≥n en un solo campo (no at√≥mico)
direccion = "Cra 1 #23-45, Bogot√°, Colombia"

-- Mejor: separar columnas
calle, numero, ciudad, pais</code></pre>
  </div>

  <div class="slide" data-title="DDL">
    <h2>SQL DDL ‚Äî Definici√≥n de Datos</h2>
<pre><code>-- Crear base de datos y tablas
CREATE DATABASE tienda;

CREATE TABLE categorias (
  id SERIAL PRIMARY KEY,
  nombre VARCHAR(60) NOT NULL UNIQUE
);

CREATE TABLE productos (
  id SERIAL PRIMARY KEY,
  categoria_id INT NOT NULL REFERENCES categorias(id),
  nombre VARCHAR(80) NOT NULL,
  precio NUMERIC(10,2) NOT NULL CHECK (precio &gt;= 0),
  stock INT NOT NULL DEFAULT 0
);</code></pre>
  </div>

  <div class="slide" data-title="DML">
    <h2>SQL DML ‚Äî Inserci√≥n y Actualizaci√≥n</h2>
<pre><code>-- Insertar datos
INSERT INTO categorias (nombre) VALUES ('Bebidas'), ('Snacks');

INSERT INTO productos (categoria_id, nombre, precio, stock)
VALUES (1, 'Agua 600ml', 1.20, 50),
       (2, 'Papas BBQ', 1.80, 25);

-- Actualizar y eliminar
UPDATE productos SET stock = stock + 10 WHERE id = 1;
DELETE FROM productos WHERE id = 2;</code></pre>
  </div>

  <div class="slide" data-title="SELECT">
    <h2>Consultas B√°sicas ‚Äî SELECT</h2>
<pre><code>-- Proyecci√≥n y filtrado
SELECT id, nombre, precio FROM productos;

-- Filtros y orden
SELECT * FROM productos
WHERE precio &gt;= 1.50
ORDER BY precio DESC
LIMIT 10;</code></pre>
  </div>

  <div class="slide" data-title="Agregaci√≥n">
    <h2>Agregaci√≥n ‚Äî GROUP BY / HAVING</h2>
<pre><code>-- Promedio de precio por categor√≠a
SELECT c.nombre AS categoria, AVG(p.precio) AS precio_prom
FROM productos p
JOIN categorias c ON c.id = p.categoria_id
GROUP BY c.nombre
HAVING AVG(p.precio) &gt;= 1.00;</code></pre>
  </div>

  <div class="slide" data-title="JOINs">
    <h2>Relaciones ‚Äî JOINs</h2>
<pre><code>-- INNER JOIN: s√≥lo coincidencias
SELECT p.nombre, c.nombre AS categoria
FROM productos p
INNER JOIN categorias c ON c.id = p.categoria_id;

-- LEFT JOIN: conserva la izquierda
SELECT c.nombre, p.nombre
FROM categorias c
LEFT JOIN productos p ON p.categoria_id = c.id;</code></pre>
  </div>

  <div class="slide" data-title="Constraints">
    <h2>Restricciones y Reglas</h2>
<pre><code>ALTER TABLE productos
ADD CONSTRAINT uq_nombre UNIQUE (nombre);

ALTER TABLE productos
ADD CONSTRAINT chk_stock CHECK (stock &gt;= 0);

-- Integridad referencial con acciones
ALTER TABLE productos
ADD CONSTRAINT fk_categoria
FOREIGN KEY (categoria_id)
REFERENCES categorias(id)
ON UPDATE CASCADE
ON DELETE RESTRICT;</code></pre>
  </div>

  <div class="slide" data-title="Transacciones">
    <h2>Transacciones y Propiedades ACID</h2>
    <ul>
      <li><strong>A</strong>tomicidad, <strong>C</strong>onsistencia, <strong>I</strong>solamiento, <strong>D</strong>urabilidad.</li>
      <li>Garantizan que varias operaciones se ejecuten como una unidad.</li>
    </ul>
<pre><code>BEGIN;
  UPDATE productos SET stock = stock - 2 WHERE id = 1;
  INSERT INTO pedidos (cliente_id, total) VALUES (42, 2.40);
COMMIT;

-- Si algo falla:
ROLLBACK;</code></pre>
  </div>

  <div class="slide" data-title="√çndices">
    <h2>√çndices y Rendimiento</h2>
    <ul>
      <li>Aceleran b√∫squedas a costa de espacio y coste en escrituras.</li>
      <li>√ösalos en columnas muy consultadas o para claves externas.</li>
    </ul>
<pre><code>-- Crear √≠ndice
CREATE INDEX idx_productos_nombre ON productos(nombre);

-- Inspeccionar plan (PostgreSQL)
EXPLAIN ANALYZE
SELECT * FROM productos WHERE nombre LIKE 'Agua%';</code></pre>
  </div>

  <div class="slide" data-title="Ejercicio guiado">
    <h2>Ejercicio Guiado ‚Äî Mini Tienda</h2>
    <ol>
      <li>Crea tablas: <code>clientes</code>, <code>pedidos</code>, <code>detalle_pedido</code>, <code>productos</code>.</li>
      <li>Inserta 3 clientes, 4 productos, 2 pedidos con 2 √≠tems cada uno.</li>
      <li>Consulta: total gastado por cliente (usa <code>JOIN</code> y <code>GROUP BY</code>).</li>
      <li>Consulta: los productos sin stock (&lt;= 0).</li>
    </ol>
<pre><code>-- Pista de consulta
SELECT cl.nombre, SUM(dp.cantidad * pr.precio) AS total
FROM clientes cl
JOIN pedidos pe ON pe.cliente_id = cl.id
JOIN detalle_pedido dp ON dp.pedido_id = pe.id
JOIN productos pr ON pr.id = dp.producto_id
GROUP BY cl.nombre
ORDER BY total DESC;</code></pre>
  </div>

  <div class="slide" data-title="Tarea">
    <h2>Tarea y Recursos</h2>
    <ul>
      <li>Extiende el modelo con <code>proveedores</code> y a√±ade claves for√°neas.</li>
      <li>Escribe 5 consultas con <code>JOIN</code> y 2 con subconsultas.</li>
      <li>Experimenta con transacciones y bloqueos (dos sesiones de SQL).</li>
      <li>Opcional: crea vistas para reportes.</li>
    </ul>
<pre><code>-- Ejemplo de vista
CREATE VIEW v_inventario_valorado AS
SELECT p.id, p.nombre, p.stock, (p.stock * p.precio) AS valor
FROM productos p;</code></pre>
    <p class="badge">Pr√≥xima clase: Dise√±o de esquemas y buenas pr√°cticas</p>
  </div>



        <div class="nav">
            <button onclick="prevSlide()">Anterior</button>
            <button onclick="nextSlide()">Siguiente</button>
        </div>
    </div>
    <script src="../../js/slide.js"></script>
    </body>
</html>
